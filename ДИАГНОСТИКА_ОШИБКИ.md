# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–∫–∏ "Invalid price ID"

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –≤—Å–µ –µ—â–µ –ø–æ–ª—É—á–∞–µ—à—å –æ—à–∏–±–∫—É

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

–ö–æ–≥–¥–∞ —Ç—ã –ø—ã—Ç–∞–µ—à—å—Å—è –æ–ø–ª–∞—Ç–∏—Ç—å, —Å–º–æ—Ç—Ä–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä. –¢—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:

```
üîç Checkout Session Request:
   Received priceId: price_...
   Configured prices: { monthly: 'price_...', yearly: 'price_...' }
   Price ID type: PRICE ID ‚úÖ
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—à—å:**
- `Received priceId: prod_...` ‚Üí –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Product ID –≤–º–µ—Å—Ç–æ Price ID
- `Price ID type: PRODUCT ID ‚ùå` ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø ID

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ —Å–º–æ—Ç—Ä–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Console". –¢—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:

```javascript
üí≥ Starting checkout: {
  plan: "yearly",
  priceId: "price_...",
  configuredPrices: { monthly: "price_...", yearly: "price_..." },
  apiUrl: "http://localhost:4242"
}
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—à—å:**
- `priceId: "prod_..."` ‚Üí –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Product ID
- `priceId: "price_monthly_499"` ‚Üí –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–≥–ª—É—à–∫—É (–Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ Price ID!

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞:
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä, –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –æ–Ω –≤–∏–¥–∏—Ç:
curl http://localhost:4242/health
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ Price ID (–Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `price_`)

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:
–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏:
```javascript
// –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤–∏–¥–∏—Ç
console.log('Frontend prices:', {
  monthly: import.meta.env.VITE_STRIPE_PRICE_MONTHLY,
  yearly: import.meta.env.VITE_STRIPE_PRICE_YEARLY
});
```

### –®–∞–≥ 4: –£–±–µ–¥–∏—Å—å, —á—Ç–æ Price ID –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ

**–ë—ç–∫–µ–Ω–¥** (`server/.env`):
```env
STRIPE_PRICE_MONTHLY=price_1ABC123...
STRIPE_PRICE_YEARLY=price_1XYZ789...
```

**–§—Ä–æ–Ω—Ç–µ–Ω–¥** (`.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞):
```env
VITE_STRIPE_PRICE_MONTHLY=price_1ABC123...  ‚Üê –î–û–õ–ñ–ù–û –ë–´–¢–¨ –¢–û–ß–ù–û –¢–ê–ö –ñ–ï!
VITE_STRIPE_PRICE_YEARLY=price_1XYZ789...  ‚Üê –î–û–õ–ñ–ù–û –ë–´–¢–¨ –¢–û–ß–ù–û –¢–ê–ö –ñ–ï!
```

**–í–∞–∂–Ω–æ:** –û–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–ò–î–ï–ù–¢–ò–ß–ù–´–ú–ò**!

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –≤–∏–¥–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞: `priceId: "price_monthly_499"` (–∑–∞–≥–ª—É—à–∫–∞)
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ **–∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞** (–Ω–µ –≤ `server/`)
2. –î–æ–±–∞–≤—å:
   ```env
   VITE_STRIPE_PRICE_MONTHLY=price_—Ç–≤–æ–π_id
   VITE_STRIPE_PRICE_YEARLY=price_—Ç–≤–æ–π_id
   ```
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** (npm run dev)

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ë—ç–∫–µ–Ω–¥ –Ω–µ –≤–∏–¥–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞: `Monthly: price_monthly_499` (–∑–∞–≥–ª—É—à–∫–∞)
- –í `/health`: `usingDefaults: true`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —Ñ–∞–π–ª `server/.env`
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤: `STRIPE_PRICE_MONTHLY=price_...` (–Ω–µ `STRIPE_PRICE_MONTHLY = price_...`)
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä**

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Product ID –≤–º–µ—Å—Ç–æ Price ID

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í –ª–æ–≥–∞—Ö: `Price ID type: PRODUCT ID ‚ùå`
- –û—à–∏–±–∫–∞: "You are using PRODUCT IDs instead of PRICE IDs"

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π Stripe Dashboard
2. Products ‚Üí –¢–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç ‚Üí –†–∞–∑–¥–µ–ª "Pricing"
3. –°–∫–æ–ø–∏—Ä—É–π **Price ID** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `price_`), –ù–ï Product ID
4. –û–±–Ω–æ–≤–∏ `.env` —Ñ–∞–π–ª—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ ID

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –æ–¥–∏–Ω Price ID
- –ù–æ –æ–Ω –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–º, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ `server/.env` –∏ `.env` (–∫–æ—Ä–µ–Ω—å) **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ** Price ID
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –æ–±–∞ (—Å–µ—Ä–≤–µ—Ä –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] Price ID –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `price_` (–Ω–µ `prod_`)
- [ ] –í `server/.env` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ Price ID
- [ ] –í `.env` (–∫–æ—Ä–µ–Ω—å) —Ç–µ –∂–µ —Å–∞–º—ã–µ Price ID
- [ ] –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `server/.env`
- [ ] –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`
- [ ] –í –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞ –≤–∏–¥–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ Price ID (–Ω–µ –∑–∞–≥–ª—É—à–∫–∏)
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤–∏–¥–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ Price ID (–Ω–µ –∑–∞–≥–ª—É—à–∫–∏)
- [ ] `/health` endpoint –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `usingDefaults: false`

---

## üÜò –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–∫–∞–∂–∏ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** - —á—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–ø–ª–∞—Ç—ã?
2. **–ü–æ–∫–∞–∂–∏ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** - —á—Ç–æ —Ç–∞–º –≤ –ª–æ–≥–∞—Ö?
3. **–ü–æ–∫–∞–∂–∏ `/health` endpoint** - —á—Ç–æ —Ç–∞–º –≤ `prices`?
4. **–ü—Ä–æ–≤–µ—Ä—å Stripe Dashboard** - —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ª–∏ —ç—Ç–∏ Price ID?

